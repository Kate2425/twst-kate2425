<!DOCTYPE html>
<html lang="ja" xmlns:th="https://www.thymeleaf.org">
	<head>
		<meta charset="utf-8">

		<title>Result</title>
		<link th:href="@{/style/style.css}" rel="stylesheet">
		<link th:href="@{/style/result.css}" rel="stylesheet">

	</head>

	<body>
		<nav>
			<ul>
				<li><a th:href="@{/edit}">編集</a></li>
			</ul>
		</nav>
		<table>
			<tbody>
				<tr>
					<th> </th>
					<th>キャラクター</th>
					<th>レア度</th>
					<th>タイプ</th>
					<th>バディ１</th>
					<th>バディ２</th>
					<th>バディ３</th>
					<th>魔法属性１</th>
					<th>魔法属性２</th>
					<th>魔法属性３</th>
					<th>デュオ</th>
					<th>最大HP</th>
					<th>最大ATK</th>
				</tr>
				<tr th:each="record , st: ${list}">
					<form action="#" th:action="@{/organize}" th:object="${CardForm}"
						th:name="'cardForm' + ${st.index}" th:method="post">
						<th th:text="${record.id}"></th>
						<td>
							<input type="hidden" th:name="tableName"
								th:value="${record.tableName}" />
							<input type="hidden" th:name="id" th:value="${record.id}" />
							<input type="hidden" th:name="num" th:value="${record.num}" />
							<input type="hidden" th:name="name"
								th:value="${record.name}" />
							<input type="hidden" th:name="rare" th:value="${record.rare}" />
							<input type="hidden" th:name="type" th:value="${record.type}" />
							<input type="hidden" th:name="buddy1"
								th:value="${record.buddy1}" />
							<input type="hidden" th:name="buddy2"
								th:value="${record.buddy2}" />
							<input type="hidden" th:name="buddy3"
								th:value="${record.buddy3}" />
							<input type="hidden" th:name="duo"
								th:value="${record.duo}" />
							<input type="hidden" th:name="minHp" th:value="${record.minHp}" />
							<input type="hidden" th:name="minAtk" th:value="${record.minAtk}" />
							<input type="hidden" th:name="maxHp" th:value="${record.maxHp}" />
							<input type="hidden" th:name="maxAtk" th:value="${record.maxAtk}" />
							<input type="hidden" th:name="buddy1Effect"
								th:value="${record.buddy1Effect}" />
							<input type="hidden" th:name="buddy2Effect"
								th:value="${record.buddy2Effect}" />
							<input type="hidden" th:name="buddy3Effect"
								th:value="${record.buddy3Effect}" />
							<input type="hidden" th:name="magic1Name"
								th:value="${record.magic1Name}" />
							<input type="hidden" th:name="magic2Name"
								th:value="${record.magic2Name}" />
							<input type="hidden" th:name="magic3Name"
								th:value="${record.magic3Name}" />
							<input type="hidden" th:name="magic1Effect"
								th:value="${record.magic1Effect}" />
							<input type="hidden" th:name="magic2Effect"
								th:value="${record.magic2Effect}" />
							<input type="hidden" th:name="magic3Effect"
								th:value="${record.magic3Effect}" />
							<input type="hidden" th:name="magic1Type"
								th:value="${record.magic1Type}" />
							<input type="hidden" th:name="magic2Type"
								th:value="${record.magic2Type}" />
							<input type="hidden" th:name="magic3Type"
								th:value="${record.magic3Type}" />
							<input type="hidden" th:name="arrayIndex" th:value="${arrayIndex}" />
						</form>
						<a href="javascript:"
							th:onclick="'document.forms.cardForm' + __${st.index}__ + '.submit();'">
							<span th:text="${record.name.viewName}"></span>
						</a>
					</td>
					<td th:text="${record.rare}"></td>
					<td th:text="${record.type}"></td>
					<td th:text="${record.buddy1.viewName}"></td>
					<td th:text="${record.buddy2.viewName}"></td>
					<td th:text="${record.buddy3.viewName}"></td>
					<th:block th:switch="${record.magic1Type}">
						<td th:case="'FIRE'" th:class='fire' th:text="${record.magic1Type}"></td>
						<td th:case="'WATER'" th:class='water'
							th:text="${record.magic1Type}"></td>
						<td th:case="'LEAF'" th:class='leaf' th:text="${record.magic1Type}"></td>
						<td th:case="*" th:text="${record.magic1Type}"></td>
					</th:block>
					<th:block th:switch="${record.magic2Type}">
						<td th:case="'FIRE'" th:class='fire' th:text="${record.magic2Type}"></td>
						<td th:case="'WATER'" th:class='water'
							th:text="${record.magic2Type}"></td>
						<td th:case="'LEAF'" th:class='leaf' th:text="${record.magic2Type}"></td>
						<td th:case="*" th:text="${record.magic2Type}"></td>
					</th:block>
					<th:block th:switch="${record.magic3Type}">
						<td th:case="'FIRE'" th:class='fire' th:text="${record.magic3Type}"></td>
						<td th:case="'WATER'" th:class='water'
							th:text="${record.magic3Type}"></td>
						<td th:case="'LEAF'" th:class='leaf' th:text="${record.magic3Type}"></td>
						<td th:case="*" th:text="${record.magic3Type}"></td>
					</th:block>
					<td th:text="${record.duo.viewName}"></td>
					<td th:text="${record.maxHp}"></td>
					<td th:text="${record.maxAtk}"></td>
				</tr>
			</tbody>
		</ta>
		<p th:if="${#lists.isEmpty(list)}">条件に一致するカードが存在しません</p>
		<p th:if="${validationError}" th:each="error : ${validationError}"></p>
	</body>
</html>